# ูุตู ุดุดู: ููุงุฑุฏ ุงุถุงู ๐

ุฏุฑ ุงู ูุตูุ ฺูุฏ ููุถูุน ุชฺฉูู ุฏุฑุจุงุฑู **ุจุฑูุงููโููุณ Task** ุจุฑุฑุณ ูโุดูุฏ.

---

### ฺฏุฒุงุฑุด ูพุดุฑูุช (Progress Reporting) ๐

ุญุชูุงู ุฏุฏูโุงุฏ ููฺฏุงู **ุจูโุฑูุฒุฑุณุงู ุณุณุชูโุนุงูู** ุง **ูุตุจ ูุณุฎู ุฌุฏุฏ Visual Studio** ุฑู ฺฉ ฺฉุงููพูุชุฑุ ูุถุนุช ูพุดุฑูุช ฺฉุงุฑ ููุงุด ุฏุงุฏู ูโุดูุฏ. ุญุงูุง ุจุงุฏ ุจุจูู ุขุง ูโุชูุงูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ **ุจุฑูุงููโููุณ Task** ฺฉ ุจุฑูุงูู ุจุง ูฺฺฏ ูุดุงุจู ุจุณุงุฒุฏุ

---

### ุฏุฑฺฉ ูุงุฒ (Understanding the Need) ๐ค

ูุฑุถ ฺฉูุฏ ุฏุฑ ุญุงู ูพุฑุฏุงุฒุด ุชุนุฏุงุฏ ุฒุงุฏ **ุฑฺฉูุฑุฏ (Record)** ูุฎุชูู ูุณุชุฏ. ุจุฑุง ุดุจูโุณุงุฒ ุดุฑุงุท ูุงูุนุ ุชุตูุฑ ฺฉูุฏ ฺฉู **ุฒูุงู ูพุฑุฏุงุฒุด ูุฑ ุฑฺฉูุฑุฏ ูุชูุงูุช ุงุณุช**. ุงุฒ ุขูโุฌุง ฺฉู ุงู ุนููุงุช ููฺฉู ุงุณุช **ุฒูุงูโุจุฑ** ุจุงุดุฏุ ููโุฎูุงูุฏ **ุฑุดุชู ุงุตู (Main Thread)** ูุณุฏูุฏ ุดูุฏ. ุฏุฑ ุนูุถ ุชุตูู ูโฺฏุฑุฏ ุงู ฺฉุงุฑ ุฑุง ุงุฒ ุทุฑู ฺฉ **Task ูพุณโุฒููู** ุงูุฌุงู ุฏูุฏ.

---

### ููุงุด ุงููู (Demonstration 1) ๐ฅ๏ธ

ุจุง ุงู ุญุงูุ ุงฺฏุฑ ููฺฏุงู ูพุฑุฏุงุฒุด ุงู ุฑฺฉูุฑุฏูุง **ูุถุนุช ูพุดุฑูุช ุฑุง ููุงุด ูุฏูุฏ**ุ ฺฉุงุฑุจุฑ ููฺฉู ุงุณุช **ุณุฑุฏุฑฺฏู ุดูุฏ**. ุจุฑุง ุณุงุฏูโุชุฑ ฺฉุฑุฏู ููุถูุนุ ุจุงุฏ ฺฉ ููููู ุขุฒูุงุด ุจุจูู ฺฉู ููุท ุจุง **ต ุฑฺฉูุฑุฏ** ฺฉุงุฑ ูโฺฉูุฏ:

```csharp
using static System.Console;

WriteLine("The main thread is initiating a task to process some records.");
var recordProcessingTask = Task.Run(ProcessRecords);

WriteLine("The main thread is doing other work now.");
recordProcessingTask.Wait();

static void ProcessRecords()
{
    WriteLine($"Starts processing the records...");
    for (int i = 1; i <= 5; i++)
    {
        // Varying the delay
        Thread.Sleep(i * 500);
    }
    WriteLine("All the records are processed.");
}
```

---

### ุฎุฑูุฌ (Output) ๐จ๏ธ

ูููููโุง ุงุฒ ุฎุฑูุฌ ฺฉู ุฌุง ุชุนุฌุจ ูุฏุงุฑุฏ ุจู ุงู ุตูุฑุช ุงุณุช:

```
The main thread is initiating a task to process some records.
The main thread is doing other work now.
Starts processing the records...
All the records are processed.
```

---

### ุชุญูู (Analysis) ๐

ููุงูโุทูุฑ ฺฉู ูุดุงูุฏู ูโฺฉูุฏุ ุฎุท **"All the records are processed."** ุจุนุฏ ุงุฒ **ูุฏุช ูุงุจู ุชูุฌู** ููุงุด ุฏุงุฏู ูโุดูุฏ. ุงุฒ ุฏุฏ ฺฉุงุฑุจุฑ ุงู ุฑูุชุงุฑ **ฺฏุฌโฺฉููุฏู** ุงุณุชุ ฺูู ุจุนุฏ ุงุฒ ุฏุฏู ุฌููู **"Starts processing the records..."** ููโุฏุงูุฏ ุฏุฑ ูพุณโุฒููู ฺู ุงุชูุงู ุฏุฑ ุญุงู ุฑุฎ ุฏุงุฏู ุงุณุช.

ุงูุฌุงุณุช ฺฉู ูุชูุฌู ูโุดูุฏ **ฺฏุฒุงุฑุด ูพุดุฑูุช (Progress Reporting)** ูโุชูุงูุฏ ุฏุฑ ฺูู ุดุฑุงุท ุจุณุงุฑ ููุฏ ุจุงุดุฏุ ุจูโูฺู ููฺฏุงู ุงุฌุฑุง **ฺฉ Task ุทููุงูโูุฏุช**.

---

### ฺฺฏููู ูพุดุฑูุช ุฑุง ฺฏุฒุงุฑุด ฺฉููุ

ุงู ููุถูุน ฺฉุงููุงู ุจู ุดูุง ุจุณุชฺฏ ุฏุงุฑุฏ. ุจูโุนููุงู ูุซุงู:

* ูโุชูุงูุฏ ุจูโุณุงุฏฺฏ ฺุงูพ ฺฉูุฏ ฺฉู **ฺฉุฏุงู ุฑฺฉูุฑุฏ ุฏุฑ ุญุงู ูพุฑุฏุงุฒุด ุงุณุช**.
* ุง ูโุชูุงูุฏ ูพุดุฑูุช ุฑุง ุจูโุตูุฑุช **ุฏุฑุตุฏ** ููุงุด ุฏูุฏุ ูุซู:

```
completed processing: 60%
```

ุฏุฑ ูุซุงู ุจุนุฏุ ูโุฎูุงูู ฺฉ **ููููู ุนูู** ุจุง ุงุณุชูุงุฏู ุงุฒ **ุณุงุฎุชุงุฑูุง ุฏุงุฎู ุจุฑุง ฺฏุฒุงุฑุด ูพุดุฑูุช** ุจู ุดูุง ูุดุงู ุฏูู. ุจุงุฏ ุจุญุซ ุฑุง ุดุฑูุน ฺฉูู.

---

### ุฑุงุจุท IProgress ู ฺฉูุงุณ Progress<T> ๐๏ธ

ฺฉ ุฑุงุจุท (**Interface**) ุจู ูุงู **IProgress** ุฏุฑ ูุถุง ูุงู **System** ูุฌูุฏ ุฏุงุฑุฏ. ุงู ุฑุงุจุท ฺฉ ูุชุฏ ุจู ูุงู **Report** ุฏุงุฑุฏ ฺฉู ูโุชูุงูุฏ ุจู ุดูุง ฺฉูฺฉ ฺฉูุฏ ูพุดุฑูุช ุฑุง ููุงุด ุฏูุฏ. ููุง ุงู ุฑุงุจุท ุฏุฑ Visual Studio ุจู ุดฺฉู ุฒุฑ ุงุณุช:

```csharp
public interface IProgress<in T>
{
    //
    // Summary:
    //     Reports a progress update.
    //
    // Parameters:
    //   value:
    //     The value of the updated progress.
    void Report(T value);
}
```

ุจุง ุงุณุชูุงุฏู ุงุฒ ุงู ุฑุงุจุทุ ูโุชูุงูุฏ ฺฉ **ูพุงุฏูโุณุงุฒ ุณูุงุฑุด** ุจุฑุง ฺฏุฒุงุฑุด ูพุดุฑูุช ุงุฌุงุฏ ฺฉูุฏ.

ููฺูู ฺฉ ฺฉูุงุณ ุฏุงุฎู ุจู ูุงู **Progress<T>** ูุฌูุฏ ุฏุงุฑุฏ ฺฉู **ุฑุงุจุท IProgress** ุฑุง ุงุฒ ูุจู ูพุงุฏูโุณุงุฒ ฺฉุฑุฏู ุงุณุช. ุจูุงุจุฑุงู ูโุชูุงูุฏ ุงุฒ ุงู ฺฉูุงุณ ุจุฑุง ุฑุณุฏู ุจู ูุฏู ุฎูุฏ ุงุณุชูุงุฏู ฺฉูุฏ.

ุงู ฺฉูุงุณ ฺฉ **ุฑูุฏุงุฏ (Event)** ุจู ูุงู **ProgressChanged** ุงุฑุงุฆู ูโุฏูุฏ ฺฉู ูโุชูุงูุฏ ุจุง ูุฑ ุจูโุฑูุฒุฑุณุงู ูพุดุฑูุช ุงุฒ ฺฉุฏ ูุงููุฒูุงู **ูุนุงู ุดูุฏ**.

---

### ุงุณุชูุงุฏู ุงุฒ Delegate ุฏุฑ Progress

ฺฉ ูฺฉุชู ุฌุงูุจ ุฏฺฏุฑ ุงู ุงุณุช ฺฉู ุงู ฺฉูุงุณ **Progress** ุฏุงุฑุง ุฏู **ุณุงุฒูุฏู (Constructor)** ุงุณุช ฺฉู ฺฉ ุงุฒ ุขูโูุง ุจู ุดฺฉู ุฒุฑ ุงุณุช:

```csharp
public Progress(Action<T> handler);
```

ุงู ูฺฉุชู ุจู ุดูุง ุณุฑูุฎ ูโุฏูุฏ ฺฉู ูโุชูุงูุฏ ฺฉ **Delegate** ุฑุง ุจู ุนููุงู **ูพุงุฑุงูุชุฑ ุณุงุฒูุฏู** ฺฉูุงุณ Progress ุงุฑุณุงู ฺฉูุฏ. ุงู Delegate ุนููุงู ููุด ฺฉ **Event Handler** ุฑุง ุฏุงุฑุฏ ฺฉู ูโุชูุงูุฏ ุงุฒ ุขู ุจุฑุง **ฺฏุฒุงุฑุด ูพุดุฑูุช** ุงุณุชูุงุฏู ฺฉูุฏ.

ุจุงุฏ **ฺฉุฏ ูุจู ุฑุง ุจูโุฑูุฒุฑุณุงู ฺฉูู** ุชุง ุจุจูู ุงู ฺฉุงุฑ ฺฺฏููู ุงูุฌุงู ูโุดูุฏ.

ุงุจุชุฏุง ุชุงุจุน **ProcessRecords** ุฑุง ุชุบุฑ ุฏุงุฏู ุชุง ุจุชูุงูุฏ **IProgress<int>** ุฑุง ุจู ุนููุงู ฺฉ **ูพุงุฑุงูุชุฑ** ุฏุฑุงูุช ฺฉูุฏ. ุจุงุฏ ูุณุฎู ุงุตูุงุญโุดุฏู ุงู ุชุงุจุน ุฑุง ุจุจูู ฺฉู ุชุบุฑุงุช ฺฉูุฏ ุขู **ูพุฑุฑูฺฏ** ุดุฏู ุงุณุช.

<div align="center">
    
![Conventions-UsedThis-Book](../../assets/image/06/Table%206-1.jpeg) 
</div>
